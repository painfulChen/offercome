# RAG知识库系统 - 完整使用指南

## 🎯 系统概述

这是一个专为求职陪跑服务设计的RAG（检索增强生成）知识库系统，集成了多模态文档处理、智能检索和AI对话功能。系统利用Kimi的多模态能力，可以处理飞书文档、本地文件等多种格式，为求职者提供个性化的智能服务。

## 🚀 快速开始

### 1. 系统部署

```bash
# 运行部署脚本
./deploy-rag-system.sh

# 或手动部署
cd server
npm install
chmod +x manage-rag.sh
```

### 2. 启动系统

```bash
# 开发模式
cd server && ./manage-rag.sh dev

# 生产模式
cd server && ./manage-rag.sh start
```

### 3. 访问管理界面

打开浏览器访问：http://localhost:3000/rag-admin.html

## 📚 功能详解

### 🧠 智能文档处理

#### 支持的文档类型
- **图片文件**: PNG, JPG, JPEG, GIF, BMP, WebP
- **文档文件**: PDF, DOC, DOCX
- **文本文件**: TXT, MD
- **飞书文档**: 飞书文档链接、飞书表格链接

#### 文档处理流程
1. **文档上传**: 支持拖拽上传、批量上传
2. **内容解析**: 使用Kimi多模态能力解析文档内容
3. **向量化**: 将文档内容转换为向量表示
4. **存储管理**: 分类存储和标签管理

### 🔍 智能检索

#### 检索方式
- **语义搜索**: 基于内容的语义匹配
- **关键词搜索**: 精确的关键词匹配
- **分类过滤**: 按文档分类筛选
- **标签过滤**: 按标签筛选相关文档

#### 检索结果
- **相关性排序**: 按相关度自动排序
- **内容摘要**: 显示相关文档片段
- **AI分析**: 基于检索结果的智能分析

### 🤖 AI增强服务

#### 智能对话
- 基于知识库的问答
- 个性化建议生成
- 上下文理解

#### 简历优化
- 根据目标职位优化简历
- 关键词优化建议
- 格式和内容改进

#### 面试准备
- 面试问题预测
- 回答建议生成
- 面试技巧指导

#### 职业规划
- 个性化职业路径
- 技能提升建议
- 行业趋势分析

## 📤 文档上传指南

### 1. 本地文件上传

#### 单个文件上传
1. 访问管理界面
2. 选择"本地文件"标签
3. 拖拽文件或点击选择文件
4. 设置分类和标签
5. 点击"上传文件"

#### 批量文件上传
1. 选择"批量上传"标签
2. 选择多个文件
3. 设置统一的分类和标签
4. 点击"批量上传"

### 2. 飞书文档处理

#### 飞书文档
1. 选择"飞书文档"标签
2. 输入飞书文档链接
3. 选择文档类型（文档/表格）
4. 设置分类和标签
5. 点击"处理飞书文档"

#### 飞书表格
1. 选择"飞书文档"标签
2. 输入飞书表格链接
3. 选择"飞书表格"类型
4. 设置分类和标签
5. 点击"处理飞书文档"

### 3. 文档分类建议

#### 推荐分类
- **resume**: 简历模板和技巧
- **interview**: 面试技巧和准备
- **career**: 职业规划和发展
- **skills**: 技能提升和学习
- **industry**: 行业分析和趋势
- **general**: 通用求职文档

#### 标签使用
- 使用逗号分隔多个标签
- 建议标签：求职,面试,简历,技巧,行业,技能
- 可以根据具体内容添加专业标签

## 🔍 文档搜索指南

### 1. 基本搜索

#### 搜索步骤
1. 在搜索框中输入查询
2. 可选择分类过滤
3. 可选择标签过滤
4. 点击"搜索"按钮

#### 搜索技巧
- 使用具体的关键词
- 尝试不同的表达方式
- 结合分类和标签过滤
- 查看AI分析结果

### 2. 高级搜索

#### 分类过滤
- 选择特定分类缩小搜索范围
- 提高搜索结果的相关性

#### 标签过滤
- 使用多个标签组合过滤
- 精确匹配特定主题

#### 结果排序
- 按相关性自动排序
- 查看相关性百分比

## 📊 文档管理

### 1. 文档列表

#### 查看文档
- 显示所有上传的文档
- 按分类和标签筛选
- 分页显示文档列表

#### 文档信息
- 文档标题和类型
- 文件大小和上传时间
- 分类和标签信息
- 内容长度统计

### 2. 文档操作

#### 删除文档
1. 在文档列表中找到目标文档
2. 点击"删除"按钮
3. 确认删除操作

#### 文档详情
- 查看文档的详细信息
- 查看处理后的内容
- 查看元数据信息

### 3. 统计信息

#### 系统统计
- 总文档数量
- 各类型文档分布
- 存储空间使用情况
- 搜索次数统计

## 🤖 AI服务使用

### 1. 智能对话

#### 使用方式
- 通过API接口调用
- 在前端界面中使用
- 支持自然语言查询

#### 对话技巧
- 提问要具体明确
- 可以结合上下文
- 查看AI分析结果

### 2. 简历优化

#### 优化流程
1. 提供简历内容
2. 指定目标职位
3. 提供用户背景信息
4. 获取优化建议

#### 优化内容
- 简历结构优化
- 关键词优化
- 内容改进建议
- 格式和排版建议

### 3. 面试准备

#### 准备内容
- 面试问题预测
- 针对性回答建议
- 面试技巧指导
- 着装和礼仪建议

#### 准备方式
- 提供职位描述
- 提供简历内容
- 指定面试类型
- 获取个性化建议

### 4. 职业规划

#### 规划内容
- 职业发展路径
- 技能提升计划
- 行业趋势分析
- 薪资期望建议

#### 规划方式
- 提供用户背景
- 指定目标行业
- 获取个性化建议

## 🔧 系统配置

### 1. 环境变量

#### 必需配置
```bash
# Kimi API密钥
KIMI_API_KEY=your_kimi_api_key

# 数据库连接
DATABASE_URL=mysql://username:password@localhost:3306/offer_come

# Redis连接
REDIS_URL=redis://localhost:6379

# 运行环境
NODE_ENV=production

# 服务端口
PORT=3000
```

#### 可选配置
```bash
# 文件上传限制
MAX_FILE_SIZE=50MB

# 支持的文档类型
SUPPORTED_FILE_TYPES=pdf,doc,docx,png,jpg,jpeg,gif,bmp,webp,txt,md

# 日志级别
LOG_LEVEL=info
```

### 2. 文件上传配置

#### 上传限制
- 单个文件最大50MB
- 批量上传最多10个文件
- 支持的文件类型可配置

#### 存储配置
- 上传文件存储在server/uploads目录
- 支持文件类型验证
- 自动创建上传目录

### 3. 性能优化

#### 缓存配置
- 使用Redis缓存检索结果
- 缓存文档向量数据
- 设置合理的缓存过期时间

#### 并发控制
- 限制同时处理的文档数量
- 设置API调用频率限制
- 优化数据库连接池

## 🛠️ 故障排除

### 1. 常见问题

#### API调用失败
**问题**: Kimi API调用失败
**解决**:
- 检查API密钥是否正确
- 确认网络连接正常
- 查看API调用日志

#### 文档上传失败
**问题**: 文件上传失败
**解决**:
- 检查文件格式是否支持
- 确认文件大小在限制内
- 检查上传目录权限

#### 搜索无结果
**问题**: 搜索没有返回结果
**解决**:
- 确认知识库中有文档
- 尝试不同的搜索关键词
- 检查文档分类和标签

#### 系统性能问题
**问题**: 系统响应缓慢
**解决**:
- 检查服务器资源使用
- 优化文档存储
- 调整API调用频率

### 2. 日志查看

#### 系统日志
```bash
# 查看系统日志
tail -f server/logs/system.log

# 查看错误日志
tail -f server/logs/error.log

# 查看访问日志
tail -f server/logs/access.log
```

#### 调试模式
```bash
# 启用调试模式
NODE_ENV=development ./manage-rag.sh dev

# 查看详细日志
DEBUG=* ./manage-rag.sh dev
```

### 3. 性能监控

#### 系统状态
```bash
# 检查系统状态
curl http://localhost:3000/api/rag/health

# 查看统计信息
curl http://localhost:3000/api/rag/stats

# 测试AI服务
curl http://localhost:3000/ai/test
```

#### 资源监控
- 监控CPU和内存使用
- 监控磁盘空间
- 监控网络连接
- 监控API响应时间

## 📈 最佳实践

### 1. 文档管理

#### 文档组织
- 使用清晰的分类体系
- 为文档添加合适的标签
- 定期清理无用文档
- 保持文档内容更新

#### 文档质量
- 上传高质量的文档
- 确保文档内容准确
- 定期更新过时信息
- 验证文档格式正确

### 2. 搜索优化

#### 搜索策略
- 使用具体的关键词
- 结合分类和标签过滤
- 尝试不同的搜索表达
- 查看AI分析结果

#### 结果利用
- 仔细阅读相关文档
- 参考AI分析建议
- 结合多个搜索结果
- 保存有用的信息

### 3. AI服务使用

#### 对话技巧
- 提问要具体明确
- 提供足够的上下文
- 结合知识库内容
- 查看AI分析结果

#### 服务选择
- 根据需求选择合适的服务
- 提供详细的需求信息
- 结合用户背景
- 获取个性化建议

## 🔮 未来扩展

### 1. 功能扩展

#### 计划功能
- 支持更多文档格式
- 增强语义搜索能力
- 添加文档版本管理
- 支持协作编辑

#### 技术升级
- 集成更先进的向量数据库
- 优化文档处理算法
- 增强AI模型能力
- 提升系统性能

### 2. 集成扩展

#### 外部集成
- 集成更多文档平台
- 连接外部知识库
- 支持第三方AI服务
- 添加数据分析功能

#### 用户界面
- 优化管理界面
- 添加移动端支持
- 增强用户体验
- 提供更多可视化功能

## 📞 技术支持

### 1. 联系方式

- **技术文档**: 查看项目README
- **问题反馈**: 提交GitHub Issue
- **功能建议**: 通过邮件联系

### 2. 资源链接

- **项目地址**: GitHub仓库链接
- **API文档**: 接口文档地址
- **部署指南**: 部署说明文档
- **使用教程**: 视频教程链接

---

© 2024 OfferCome Team. All rights reserved. 